/// implemntar aqui o code da pagina por categoria pegar o id da acria no url ex: /shop?category=893873837uthdy76e376,  usar aqui no meu code no vertical slider √© para suar top solu√ß√µes verticais , nos primeiros tabs e para lsiatar as outraas categroias, resolver isosoe. dveolver fullcode

"use client";
import Link from "next/link";
import React, { useEffect, useMemo, useRef, useState } from "react";
import Slider from "react-slick/lib/slider";
import "slick-carousel/slick/slick.css";
import "slick-carousel/slick/slick-theme.css";
import { IoPlay } from "react-icons/io5";

function FiveSolutionsSlider({ items }) {
  const Settings = {
    dots: false,
    infinite: true,
    arrows: true,
    speed: 3500,
    autoplaySpeed: 3500,
    autoplay: true,
    slidesToShow: 2,
    slidesToScroll: 2,
    initialSlide: 0,
    responsive: [
      {
        breakpoint: 1024,
        settings: { slidesToShow: 3, slidesToScroll: 3, infinite: true, dots: true },
      },
      { breakpoint: 600, settings: { slidesToShow: 2, slidesToScroll: 2, initialSlide: 2 } },
      { breakpoint: 480, settings: { slidesToShow: 1, slidesToScroll: 1 } },
    ],
  };

  return (
    <div className="categorie-five-sliders">
      <div className="container">
        <div className="space-div">
          <div>
            <h3 className="text-light">Solu√ß√µes pensadas para atrair clientes</h3>
          </div>
          <div>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus fugiat quis saepe
              perspiciatis, veritatis nesciunt?
            </p>
          </div>
        </div>

        <Slider {...Settings}>
          {items.map((item, index) => (
            <article key={index}>
              <div className="inner-item">
                <div className="image">
                  <img src={item.image} alt={item.title} />
                </div>
                <strong className="text-light">{item.title}</strong>

                <Link href={item.link}>
                  <button className="tekup-default-btn" type="button">
                    Saiba mais
                  </button>
                </Link>
              </div>

              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
            </article>
          ))}
        </Slider>
      </div>
    </div>
  );
}

function MainItemCategoryPage({ item }) {
  const settings = {
    dots: true,
    infinite: true,
    fade: true,
    speed: 2500,
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: false,
    autoplay: true,
    autoplaySpeed: 2500,
  };

  return (
    <div className="categorie-main-item">
      <div className="image-slider">
        <Slider {...settings}>
          {item?.images.map((image, index) => (
            <div className="image" key={index}>
              <img src={image} alt={item?.title} />
            </div>
          ))}
        </Slider>
      </div>

      <div className="text-content">
        <h2>{item?.title}</h2>
        <p>{item?.description}</p>
        <div className="mt-2 mb-2">
          <hr />
        </div>
        <br />

        <Link href={item?.link}>
          <button className="tekup-default-btn" type="button">
            Saiba mais
          </button>
        </Link>
      </div>
    </div>
  );
}

function HeaderCategorieAndTitle({ title, categories, active }) {
  return (
    <aside className="catgorie-page-header">
      <div className="category-page-title">
        <h3>Venda , aluguer e montagem de ecr√£s LED</h3>
        <h5 className="text-primary">{title}</h5>
      </div>
      <hr />
      <div className="category-page-cats">
        <ul>
          {categories.map((item, index) => (
            <Link href={item?.link} key={index}>
              <li className={`link-badge ${item?.title === "Retalho" ? "active" : ""}`}>
                {item?.title}
              </li>
            </Link>
          ))}
        </ul>
      </div>
    </aside>
  );
}

function CardSliderVertical({ item }) {
  return (
    <div className="card-slider-vertical">
      <article className="card-inner">
        <div className="image">
          <div className="over-image">
            <small>{item?.solution}</small>
            <Link href={item?.link}>
              <h5>{item?.title}</h5>
            </Link>
            <button className="bg-primary text-light" type="button">
              Saiba mais
            </button>
          </div>
          <img src={item?.image} alt={item?.title} />
        </div>
      </article>
    </div>
  );
}

function TwoNiceProducts({ items }) {
  return (
    <div className="categorie-page-two">
      {items.map((item, index) => (
        <article key={index}>
          <img src={item?.image} alt={item.title} />
          <Link href={item?.link}>
            <button className="tekup-default-btn" type="button">
              Saiba mais
            </button>
          </Link>
        </article>
      ))}
    </div>
  );
}

function VideoSolutionsSlick() {
  const videos = useMemo(
    () => [
      { id: "W0T-1cJf1Dw", title: "Displays LED Transparentes", desc: "Impacto visual sem bloquear a montra.", tag: "Transparent LED" },
      { id: "6yQmGbdqHl8", title: "Pain√©is LED Modulares", desc: "Solu√ß√µes flex√≠veis e escal√°veis.", tag: "Modular" },
      { id: "DCKDisbzpCI", title: "Experi√™ncias Imersivas", desc: "Ambientes digitais envolventes.", tag: "Immersive" },
      { id: "kKRhtLj0Leg", title: "Eventos & Palcos", desc: "Ecr√£s LED para grandes eventos.", tag: "Events" },
      { id: "prdCz7tP0NQ", title: "LED Indoor & Outdoor", desc: "Alta luminosidade e fiabilidade.", tag: "Indoor / Outdoor" },
    ],
    []
  );

  const [activeSlide, setActiveSlide] = useState(0);
  const [lightboxOpen, setLightboxOpen] = useState(false);
  const [lbIndex, setLbIndex] = useState(0);

  const openLightbox = (index) => {
    setLbIndex(index);
    setLightboxOpen(true);
  };
  const closeLightbox = () => setLightboxOpen(false);

  const ytPoster = (id) => `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;
  const ytEmbed = (id) =>
    `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&rel=0&modestbranding=1&playsinline=1`;

  //  REF do slider
  const sliderRef = useRef(null);

  //  settings SEM foco autom√°tico (isso √© o que costuma causar o scroll)
  const settings = {
    dots: true,
    arrows: true,
    infinite: false,
    speed: 500,
    centerMode: true,
    slidesToShow: 3,
    slidesToScroll: 1,

    // üî• importantes para N√ÉO puxar scroll
    accessibility: false,
    focusOnSelect: false,

    afterChange: (i) => setActiveSlide(i),
    responsive: [
      { breakpoint: 1024, settings: { slidesToShow: 2 } },
      { breakpoint: 680, settings: { slidesToShow: 1, centerMode: false } },
    ],
  };

  //  avan√ßa 1 slide ap√≥s 1.5s, sem scroll (restaura scroll + blur no foco)
  useEffect(() => {
    const t = setTimeout(() => {
      const y = window.scrollY;

      sliderRef.current?.slickNext?.();

      // tira foco de qualquer coisa que o slick tenha focado
      if (document.activeElement && typeof document.activeElement.blur === "function") {
        document.activeElement.blur();
      }

      // restaura scroll (caso algum scroll-into-view tenha acontecido)
      requestAnimationFrame(() => {
        window.scrollTo({ top: y, left: 0, behavior: "auto" });
      });
    }, 1500);

    return () => clearTimeout(t);
  }, []);

  //  ESC fecha + trava scroll
  useEffect(() => {
    if (!lightboxOpen) return;

    const prevOverflow = document.body.style.overflow;
    document.body.style.overflow = "hidden";

    const onKey = (e) => {
      if (e.key === "Escape") closeLightbox();
    };

    document.addEventListener("keydown", onKey);
    return () => {
      document.body.style.overflow = prevOverflow;
      document.removeEventListener("keydown", onKey);
    };
  }, [lightboxOpen]);

  return (
    <section className="categorie-videos vs-wrap">
      <header className="vs-header">
        <h2>Veja as nossas solu√ß√µes em a√ß√£o</h2>
        <p>Displays LED transparentes, modulares e experi√™ncias imersivas</p>
      </header>
      <br />

      <Slider ref={sliderRef} {...settings} className="vs-slider">
        {videos.map((v, i) => (
          <div key={v.id}>
            <button
              className={`vs-card ${activeSlide === i ? "active" : ""}`}
              onClick={() => openLightbox(i)}
              type="button"
            >
              <div className="vs-thumb">
                <img src={ytPoster(v.id)} alt={v.title} />
                <div className="vs-over">
                  <div className="vs-play">
                    <IoPlay />
                  </div>
                </div>
                <span className="vs-tag">{v.tag}</span>
              </div>

              <div className="vs-info">
                <strong>{v.title}</strong>
                <span>{v.desc}</span>
              </div>
            </button>
          </div>
        ))}
      </Slider>

      {lightboxOpen && (
        <div
          className="vs-modal"
          role="dialog"
          aria-modal="true"
          aria-label="V√≠deo"
          onMouseDown={(e) => {
            if (e.target === e.currentTarget) closeLightbox();
          }}
        >
          <button className="vs-close" onClick={closeLightbox} aria-label="Fechar v√≠deo" title="Fechar" type="button">
            ‚úï
          </button>

          <div className="vs-video" onMouseDown={(e) => e.stopPropagation()}>
            <iframe
              key={videos[lbIndex].id}
              src={ytEmbed(videos[lbIndex].id)}
              allow="autoplay; encrypted-media; picture-in-picture"
              allowFullScreen
              title={videos[lbIndex]?.title}
            />
          </div>
        </div>
      )}

      <style jsx>{`
        .vs-wrap {
          padding: 80px 20px;
          background: #f2f3fc;
          margin: 50px 0px;
        }

        .vs-header {
          text-align: center;
          margin-bottom: 30px;
        }

        .vs-header h2 {
          margin: 10px 0 4px;
        }

        .vs-header p {
          opacity: 0.7;
        }

        .vs-card {
          border: none;
          background: transparent;
          padding: 0 10px;
          cursor: pointer;
          transform: scale(0.9);
          transition: transform 0.3s ease;
        }

        .vs-card.active {
          transform: scale(1);
        }

        .vs-thumb {
          position: relative;
          border-radius: 18px;
          overflow: hidden;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .vs-thumb img {
          width: 100%;
          aspect-ratio: 16/9;
          object-fit: cover;
        }

        .vs-over {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .vs-play {
          width: 60px;
          height: 60px;
          background: #0019ff;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #fff;
        }

        .vs-tag {
          position: absolute;
          top: 12px;
          left: 12px;
          background: white;
          padding: 6px 10px;
          border-radius: 999px;
        }

        .vs-info {
          margin-top: 12px;
          text-align: left;
        }

        .vs-info strong {
          display: block;
        }

        .vs-info span {
          opacity: 0.7;
        }

        .vs-modal {
          position: fixed;
          inset: 0;
          z-index: 999999;
          background: rgba(0, 0, 0, 0.72);
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 18px;
        }

        .vs-close {
          position: fixed;
          top: 18px;
          right: 18px;
          z-index: 1000000;
          width: 44px;
          height: 44px;
          border-radius: 999px;
          border: none;
          cursor: pointer;
          background: rgba(255, 255, 255, 0.14);
          color: #fff;
          font-weight: 900;
          font-size: 18px;
          backdrop-filter: blur(6px);
        }
        .vs-close:hover {
          background: rgba(255, 255, 255, 0.22);
        }

        .vs-video {
          width: min(1100px, 100%);
          aspect-ratio: 16/9;
          border-radius: 16px;
          overflow: hidden;
          background: transparent;
          box-shadow: 0 20px 70px rgba(0, 0, 0, 0.35);
        }

        .vs-video iframe {
          width: 100%;
          height: 100%;
          border: none;
          display: block;
          background: #000;
        }

        @media (max-width: 720px) {
          .vs-close {
            top: 12px;
            right: 12px;
            width: 42px;
            height: 42px;
          }
        }
      `}</style>
    </section>
  );
}

function MoreProducts({ items }) {
  return (
    <div className="categorie-page-products">
      <h2>Solu√ß√µes mais utilizadas</h2>
      <div className="items-wrap">
        {items?.map((item, index) => (
          <article key={index}>
            <div className="image">
              <img src={item?.image} alt="" />
              <div className="over-image">
                <Link href={item?.link}>
                  <button className="tekup-default-btn" type="button">
                    Saiba mais
                  </button>
                </Link>
              </div>
            </div>
            <Link href={item?.link}>
              <strong className="text-dark">{item?.title}</strong>
            </Link>
          </article>
        ))}
      </div>
    </div>
  ); 
}

function ShopSection() {
  const [VerticalSolutionsItems, SetVerticalSolutionsItems] = useState([
    {
      solution: "Solu√ß√µes para quiosques",
      link: "#",
      title: "Display led para Balc√µes de empresas",
      image: "https://ik.imagekit.io/fsobpyaa5i/image-gen%20-%202025-12-23T114631.721.jpg",
    },
    {
      solution: "Solu√ß√µes de suspen√ß√£o",
      link: "#",
      title: "Painel led para exibi√ß√£o de Anuncios",
      image: "https://ik.imagekit.io/fsobpyaa5i/image-gen%20-%202025-12-23T114658.431.jpg",
    },
    {
      solution: "solu√ß√µes autonomas",
      link: "#",
      title: "Assistente robotico Painel transparente",
      image: "https://ik.imagekit.io/fsobpyaa5i/image-gen%20-%202025-12-23T114807.547.png",
    },
    {
      solution: "solu√ß√µes autonomas",
      link: "#",
      title: "Assistente robotico Painel transparente",
      image: "https://ik.imagekit.io/fsobpyaa5i/image-gen%20-%202025-12-23T114317.325.png",
    },
  ]);

  const [MainItemData, setMainItemData] = useState({
    images: [
      "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765546380/waveled/uploads/smcqd5ii6bokpmyehuw2.jpg",
      "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765800718/waveled/uploads/dvcmwwu2ztz9jybh0qp5.jpg",
      "http://localhost:4000/uploads/1761930429747_tpqlS4NE.png",
      "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765801082/waveled/uploads/d5fpkyksw11iftkboldz.jpg",
    ],
    title: "Painel led Interativo para consulta de informa√ß√£o e engajamento",
    description:
      "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam suscipit odio eu neque vulputate pharetra. Nullam iaculis odio nec sem mattis fringilla. Nunc vitae fringilla libero.",
    link: "",
  });

  var VerticalSliderSettings = {
    dots: true,
    infinite: false,
    arrows: false,
    speed: 1500,
    slidesToShow: 3,
    slidesToScroll: 3,
    initialSlide: 0,
    responsive: [
      { breakpoint: 1024, settings: { slidesToShow: 3, slidesToScroll: 3, infinite: true, dots: true } },
      { breakpoint: 600, settings: { slidesToShow: 2, slidesToScroll: 2, initialSlide: 2 } },
      { breakpoint: 480, settings: { slidesToShow: 1, slidesToScroll: 1 } },
    ],
  };

  return (
    <div className="categorie-page">
      <br />
      <br />
      <br />
      <br />
      <br />

      <div className="container">
        <HeaderCategorieAndTitle
          title={"Venda, aluguer e montagem de ecr√£s LED"}
          categories={[
            { title: "Retalho", link: "", id: "" },
            { title: "Corporativo", link: "", id: "" },
            { title: "Publicidade", link: "", id: "" },
            { title: "Indoor / Outdoor", link: "", id: "" },
          ]}
          active={""}
        />

        <aside className="card-slides-vertical">
          <Slider {...VerticalSliderSettings}>
            {VerticalSolutionsItems.map((item, index) => (
              <CardSliderVertical item={item} key={index} />
            ))}
          </Slider>
        </aside>

        <aside>
          <MainItemCategoryPage item={MainItemData} />
        </aside>
      </div>

      <aside>
        <FiveSolutionsSlider
          items={[
            {
              title: "Exposi√ß√£o de produtos",
              link: "#",
              image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765552975/waveled/uploads/ujvgfyrf22lvpuxavpzy.jpg",
            },
            {
              title: "Consulta de informa√ß√£o",
              link: "#",
              image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765816651/waveled/uploads/uvvh74lqi65kukrqscgt.jpg",
            },
          ]}
        />
      </aside>

      <div className="container">
        <aside>
          <TwoNiceProducts
            items={[
              { title: "", link: "#", image: "https://ik.imagekit.io/fsobpyaa5i/image-gen%20-%202025-12-23T163916.048%20(1).png" },
              { title: "", link: "#", image: "https://ik.imagekit.io/fsobpyaa5i/image-gen%20-%202025-12-23T161429.113.jpg" },
            ]}
          />
        </aside>
      </div>

      <aside>
        <VideoSolutionsSlick />
      </aside>

      <div className="container">
        <aside>
          <MoreProducts
            items={[
              {
                title: "Ecr√£s LED com impacto real",
                link: "",
                desc: "Solu√ß√µes para retalho, publicidade, empresas e eventos.",
                image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765800718/waveled/uploads/dvcmwwu2ztz9jybh0qp5.jpg",
              },
              {
                title: "Montras Digitais Transparentes",
                desc: "Conte√∫do din√¢mico sem perder visibilidade do produto.",
                link: "",
                image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765801082/waveled/uploads/d5fpkyksw11iftkboldz.jpg",
              },
              {
                title: "Experi√™ncia em Loja (Retail)",
                desc: "Promo√ß√µes, lan√ßamentos e branding com brilho e nitidez.",
                link: "",
                image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765546380/waveled/uploads/smcqd5ii6bokpmyehuw2.jpg",
              },
              {
                title: "Corporate & Apresenta√ß√µes",
                desc: "Comunica√ß√£o moderna para audit√≥rios, rece√ß√µes e salas.",
                link: "",
                image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765474610/waveled/uploads/gorvhtvf5xnuzf7dupmt.jpg",
              },
              {
                title: "Instala√ß√µes Indoor/Outdoor",
                desc: "Alta luminosidade, robustez e projetos personalizados.",
                link: "",
                image: "https://res.cloudinary.com/dcl5uszfj/image/upload/v1765279682/waveled/uploads/cgeduuafgxjta3cowo2s.jpg",
              },
              {
                title: "WaveLED ‚Äî Produtos & Solu√ß√µes",
                desc: "Venda, montagem e aluguer com suporte t√©cnico completo.",
                link: "",
                image: "http://localhost:4000/uploads/1761930429747_tpqlS4NE.png",
              },
            ]}
          />
        </aside>
      </div>
    </div>
  );
}

export default ShopSection;
